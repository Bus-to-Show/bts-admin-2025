<div class="mega">
    <h2>Upcoming Events</h2>
    <div id="search-component">
        <label for="search-box">Event Search</label>
        <input #searchBox id="search-box" (input)="search(searchBox.value)" />
    </div>
    <div>
        <div *ngIf="!addMode else addEventsMode">
            <div class="button-container">
                <button class="add-party" mat-fab color="primary" aria-label="Example icon button with a home icon" (click)="toggleAddMode()">
                        <mat-icon >add</mat-icon>
                 </button>
            </div>
        </div>
        <div>
            <ng-template #addEventsMode>
                <div class="button-container">
                    <button class="cancel-add" mat-fab aria-label="Example icon button with a home icon" (click)="toggleAddMode()">
                            X
                     </button>
                </div>
                <app-add-events
                >
        
                </app-add-events>
            </ng-template>
        </div>
    </div>
    <div class="mat-elevation-z8">
        <table mat-table class="full-width-table" [dataSource]="filteredEvents">
            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Date </th>
                <td mat-cell *matCellDef="let event"> {{event.date}} </td>
            </ng-container>
            <ng-container matColumnDef="headliner">
                <th mat-header-cell *matHeaderCellDef> Headliner </th>
                <td mat-cell *matCellDef="let event"> {{event.headliner}} </td>
            </ng-container>
            <ng-container matColumnDef="doors">
                <th mat-header-cell *matHeaderCellDef> Doors </th>
                <td mat-cell *matCellDef="let event"> {{event.doors_time}} </td>
            </ng-container>
            <ng-container matColumnDef="start">
                <th mat-header-cell *matHeaderCellDef> START </th>
                <td mat-cell *matCellDef="let event"> {{event.startTime}} </td>
            </ng-container>
            <ng-container matColumnDef="support1">
                <th mat-header-cell *matHeaderCellDef> With </th>
                <td mat-cell *matCellDef="let event"> {{event.support1}} </td>
            </ng-container>
            <ng-container matColumnDef="support2">
                <th mat-header-cell *matHeaderCellDef> And </th>
                <td mat-cell *matCellDef="let event"> {{event.support2}} </td>
            </ng-container>
            <ng-container matColumnDef="venue">
                <th mat-header-cell *matHeaderCellDef> Venue </th>
                <td mat-cell *matCellDef="let event"> {{event.venue.substring(0, event.venue.indexOf(' ', (event.venue.indexOf(' ') + 1)))}} </td>
            </ng-container>
            <ng-container matColumnDef="reservations">
                <th mat-header-cell *matHeaderCellDef> Reservations </th>
                <td mat-cell *matCellDef="let event"> {{event.reservations}} </td>
            </ng-container>
            <ng-container matColumnDef="capacity">
                <th mat-header-cell *matHeaderCellDef> Capacity </th>
                <td mat-cell *matCellDef="let event"> {{event.capacity}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" routerLink="/detail/{{row.id}}"></tr>
        </table>
    </div>
</div>

